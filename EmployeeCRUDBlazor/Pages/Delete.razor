@page "/DeleteEmployee/{Id}"
@using EmployeeCRUDBlazor.Data
@inject EmployeeService employeeService
@inject NavigationManager NavigationManager

<h3>Delete Employee</h3>
<hr />

<form>
	<div class="row">
		<div class="col-md-8">
			<div class="for-group">
                <label for="Id" class="control-label">
                    <b>Employee ID: </b>
					
				</label>
				<label>@obj.Id"</label>

			</div>
			<br />
			<div class="for-group">
                <label for="FirstName" class="control-label">
                    <b>First Name: </b>
				
			</label>
			<label>@obj.FirstName"</label>

		</div>
		<br />
		<div class="for-group">
                <label for="MiddleName" class="control-label">
                    <b>Middle Name: </b>
				
			</label>
			<label>@obj.MiddleName"</label>

		</div>
		<br />
		<div class="for-group">
                <label for="LastName" class="control-label">
                    <b>Last Name: </b>
				
			</label>
			<label>@obj.LastName"</label>

		</div>
		<br />
		<div class="for-group">
                <label for="PostalCode" class="control-label">
                    <b>Postal Code: </b>
				
			</label>
			<label>@obj.PostalCode"</label>

		</div>
		<br />
		<div class="for-group">
                <label for="Address" class="control-label">
                    <b>Address: </b>
				
			</label>
			<label>@obj.Address"</label>

		</div>
		<br />
		<div class="for-group">
                <label for="City" class="control-label">
                    <b>City: </b>
				
			</label>
			<label>@obj.City"</label>

		</div>
		<br />
		<div class="for-group">
                <label for="EmailAddress" class="control-label">
                    <b>Email Address: </b>
				
			</label>
			<label>@obj.EmailAddress"</label>

		</div>
		<br />
		<div class="for-group">
                <label for="PhoneNumber" class="control-label">
                    <b>Phone Number: </b>
				
			</label>
			<label>@obj.PhoneNumber"</label>

		</div>
		<br />
		<div class="for-group">
                <label for="Designation" class="control-label">
                    <b>Designation: </b>
				
			</label>
			<label>@obj.Designation"</label>

		</div>
		<br />
		<br />
	</div>
</div>

	<div class="row">
		<div class="col-md-4">
			<div class="form-group">
				<input type="button" class="btn btn-primary" @onclick="DeleteEmployeeRecord" value="Delete" />
				<input type="button" class="btn btn-danger" @onclick="Cancel" value="Cancel" />
			</div>
		</div>
	</div>
</form>

@code {
	[Parameter]
	public string Id { get; set; }

	Employee obj = new Employee();

	protected override async Task OnInitializedAsync()
	{
		obj = await Task.Run(() => employeeService.GetEmployeeById(Convert.ToInt32(Id)));

	}
	protected async void DeleteEmployeeRecord()
	{
		await employeeService.DeleteEmployee(obj);
		NavigationManager.NavigateTo("/");
	}

	protected void Cancel()
	{
		NavigationManager.NavigateTo("/");
	}

}
